"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[750],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var t=s(6540);const o={},r=t.createContext(o);function i(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(r.Provider,{value:n},e.children)}},9744:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"concepts-features/custom-page","title":"Custom Admin Page","description":"This guide shows how to register a custom sidebar menu item and render a custom React page inside the WP\u2011Next Admin Dashboard. It includes:","source":"@site/docs/concepts-features/custom-page.md","sourceDirName":"concepts-features","slug":"/concepts-features/custom-page","permalink":"/wp-next/docs/concepts-features/custom-page","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Default Hooks","permalink":"/wp-next/docs/concepts-features/default-hooks"}}');var o=s(4848),r=s(8453);const i={},c="Custom Admin Page",l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"File Overview",id:"file-overview",level:2},{value:"Project Structure (relevant parts)",id:"project-structure-relevant-parts",level:2},{value:"1) Create the Page Component",id:"1-create-the-page-component",level:2},{value:"2) Add a Frontend Hook to Register the Menu &amp; Route",id:"2-add-a-frontend-hook-to-register-the-menu--route",level:2},{value:"Key Details",id:"key-details",level:3},{value:"3) Register the Hook",id:"3-register-the-hook",level:2},{value:"4) Run or Build",id:"4-run-or-build",level:2}];function a(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"custom-admin-page",children:"Custom Admin Page"})}),"\n",(0,o.jsxs)(n.p,{children:["This guide shows how to register a ",(0,o.jsx)(n.strong,{children:"custom sidebar menu item"})," and render a ",(0,o.jsx)(n.strong,{children:"custom React page"})," inside the WP\u2011Next Admin Dashboard. It includes:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["A simple React component (",(0,o.jsx)(n.code,{children:"CustomPage.tsx"}),") to display content."]}),"\n",(0,o.jsxs)(n.li,{children:["A frontend hook (",(0,o.jsx)(n.code,{children:"menu-custom.hook.tsx"}),") that injects a new menu entry and routes to the component."]}),"\n",(0,o.jsx)(n.li,{children:"How to register the hook so it\u2019s picked up by the Admin."}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["WP\u2011Next Admin app initialized (the project creates a ",(0,o.jsx)(n.code,{children:"_wp/hooks"})," folder on first run)."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"file-overview",children:"File Overview"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"CustomPage.tsx"}),(0,o.jsx)(n.br,{}),"\n","A minimal React component that renders the page content shown when users click the new menu item."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"menu-custom.hook.tsx"}),(0,o.jsx)(n.br,{}),"\n","A frontend hook that:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Adds a ",(0,o.jsx)(n.strong,{children:"sidebar menu item"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Maps a ",(0,o.jsx)(n.strong,{children:"route"})," (e.g. ",(0,o.jsx)(n.code,{children:"/admin/blog/custom"}),") to your component."]}),"\n",(0,o.jsxs)(n.li,{children:["Optionally ",(0,o.jsx)(n.strong,{children:"restricts access"})," by capability (e.g. ",(0,o.jsx)(n.code,{children:'["read"]'}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," The filename is ",(0,o.jsx)(n.code,{children:"menu-custom.hook.tsx"})," (not ",(0,o.jsx)(n.code,{children:"hoook"}),")."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"project-structure-relevant-parts",children:"Project Structure (relevant parts)"}),"\n",(0,o.jsx)(n.p,{children:"Place your files like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"_wp/\n  hooks/\n    client/\n      index.tsx          # register frontend hooks here\n      menu-custom.hook.tsx\n      CustomPage.tsx\n    server/\n      # (backend hooks live here)\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"1-create-the-page-component",children:"1) Create the Page Component"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"_wp/hooks/client/CustomPage.tsx"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { Typography } from "@rnaga/wp-next-ui/Typography";\n\nexport const CustomPage = () => {\n  return (\n    <Typography component="span">\n      <p>This is a paragraph with some example text.</p>\n      <ul>\n        <li>List item 1</li>\n        <li>List item 2</li>\n        <li>List item 3</li>\n      </ul>\n    </Typography>\n  );\n};\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"What this does:"})," It renders content inside the Admin shell when users navigate to your custom route."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-add-a-frontend-hook-to-register-the-menu--route",children:"2) Add a Frontend Hook to Register the Menu & Route"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"_wp/hooks/client/menu-custom.hook.tsx"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'"use client";\n\nimport { filter as clientFilter } from "@rnaga/wp-next-core/decorators";\nimport { hook } from "@rnaga/wp-node/decorators/hooks";\nimport CircleIcon from "@mui/icons-material/Circle";\n\nimport type * as wpAdminTypes from "@rnaga/wp-next-admin/types";\nimport type * as wpCoreTypes from "@rnaga/wp-next-core/types";\nimport { CustomPage } from "./CustomPage";\n\n/**\n * MenuCustomHook\n *\n * Adds a custom page to the admin sidebar and routes to <CustomPage />.\n */\n@hook("next_admin_custom_menu")\nexport class MenuCustomHook {\n  @clientFilter("next_admin_menu")\n  hookFilter(\n    ...args: Parameters<wpCoreTypes.hooks.Filters["next_admin_menu"]>\n  ) {\n    let [, segment] = args;\n    const [adminMenus] = args;\n\n    // Show this menu only on "blog" or "dashboard" segments (e.g. /admin/blog).\n    if (!["blog", "dashboard"].includes(segment)) {\n      return adminMenus;\n    }\n\n    // Normalize to "blog" so the URL becomes /admin/blog/custom\n    segment = "blog";\n\n    const blogMenu: wpAdminTypes.client.AdminMenu[] = [\n      {\n        icon: <CircleIcon />,\n        displayOnSidebar: true,\n        component: <CustomPage />,\n        capabilities: ["read"], // access control\n        label: "Custom Page",\n        // e.g. http://localhost:3000/admin/blog/custom\n        path: `/${segment}/custom`,\n      },\n    ];\n\n    return [...adminMenus, ...blogMenu];\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"key-details",children:"Key Details"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Decorator pairing"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'@hook("next_admin_custom_menu")'}),": Registers this class as a named admin hook."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'@clientFilter("next_admin_menu")'}),": Contributes items to the client-side admin menu array."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Segment logic"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The Admin URL space is segmented (e.g. ",(0,o.jsx)(n.code,{children:"dashboard"}),", ",(0,o.jsx)(n.code,{children:"blog"}),", etc.)."]}),"\n",(0,o.jsxs)(n.li,{children:["The example ",(0,o.jsx)(n.strong,{children:"limits"})," the menu to ",(0,o.jsx)(n.code,{children:"blog"})," and ",(0,o.jsx)(n.code,{children:"dashboard"})," contexts and ",(0,o.jsx)(n.strong,{children:"normalizes"})," the route to ",(0,o.jsx)(n.code,{children:"blog"}),", so the final path is ",(0,o.jsx)(n.code,{children:"/admin/blog/custom"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Access control"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'capabilities: ["read"]'})," ensures only users with the ",(0,o.jsx)(n.code,{children:"read"})," capability can see/access the page."]}),"\n",(0,o.jsxs)(n.li,{children:["Use additional capabilities (e.g. ",(0,o.jsx)(n.code,{children:'["edit_posts"]'}),") to further restrict."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-register-the-hook",children:"3) Register the Hook"}),"\n",(0,o.jsx)(n.p,{children:"Add your hook to the frontend hooks registry:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"_wp/hooks/client/index.tsx"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import { getDefaultAdminHooks } from "@rnaga/wp-next-admin/client/utils";\n// Import your custom hook\nimport { MenuCustomHook } from "./menu-custom.hook";\n\n// Register: include defaults first, then your custom hook\nexport const hooks = [...getDefaultAdminHooks(), MenuCustomHook];\n'})}),"\n",(0,o.jsx)(n.p,{children:"This ensures your menu item and route are available to the Admin shell."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"4-run-or-build",children:"4) Run or Build"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Dev:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"ash\nnpm run dev\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Build & Start (production):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm run build\nnpm run start\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Navigate to your Admin app (e.g. ",(0,o.jsx)(n.code,{children:"http://localhost:3000/admin"}),") and open the ",(0,o.jsx)(n.strong,{children:"Blog"})," section (",(0,o.jsx)(n.code,{children:"/admin/dashboard"}),"). You should see ",(0,o.jsx)(n.strong,{children:"\u201cCustom Page\u201d"})," in the sidebar; clicking it renders your component."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);
"use strict";(self.webpackChunkwp_node=self.webpackChunkwp_node||[]).push([[924],{5287:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"getting-started/installation","title":"Installation Guide","description":"Prerequisites","source":"@site/docs/getting-started/installation.md","sourceDirName":"getting-started","slug":"/getting-started/installation","permalink":"/wp-node/docs/getting-started/installation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/wp-node/docs/intro"},"next":{"title":"Configuration","permalink":"/wp-node/docs/getting-started/configuration"}}');var i=t(4848),r=t(8453);const o={},a="Installation Guide",l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Helpful Tips",id:"helpful-tips",level:4},{value:"Alternative Database Setup",id:"alternative-database-setup",level:3},{value:"Initialize WP-Node Project",id:"initialize-wp-node-project",level:2},{value:"Project Structure",id:"project-structure",level:3},{value:"Run the App",id:"run-the-app",level:2},{value:"Use Cli (Alternative)",id:"use-cli-alternative",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"installation-guide",children:"Installation Guide"})}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.p,{children:["WP-Node requires access to a ",(0,i.jsx)(n.strong,{children:"WordPress-compatible MySQL database"}),". The easiest way to set this up is with Docker."]}),"\n",(0,i.jsxs)(n.p,{children:["If you don\u2019t already have a WordPress database running, you can use the following command to spin up both ",(0,i.jsx)(n.strong,{children:"MariaDB"})," and ",(0,i.jsx)(n.strong,{children:"WordPress"})," containers:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"docker network create wpnet && \\\ndocker run -d --name wpdb --network wpnet -p 33306:3306 \\\n  -e MYSQL_ROOT_PASSWORD=example \\\n  -e MYSQL_DATABASE=wordpress \\\n  -e MYSQL_USER=wp \\\n  -e MYSQL_PASSWORD=wp \\\n  mariadb && \\\ndocker run -d --name wp --network wpnet -p 8080:80 \\\n  -e WORDPRESS_DB_HOST=wpdb:3306 \\\n  -e WORDPRESS_DB_USER=wp \\\n  -e WORDPRESS_DB_PASSWORD=wp \\\n  -e WORDPRESS_DB_NAME=wordpress \\\n  wordpress\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Visit ",(0,i.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"})," in your browser to complete the WordPress setup."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\ud83d\udca1 For this tutorial, use ",(0,i.jsx)(n.code,{children:"wp"})," as your WordPress admin username."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"helpful-tips",children:"Helpful Tips"}),"\n",(0,i.jsx)(n.p,{children:"View WordPress logs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"docker logs -f wp\n"})}),"\n",(0,i.jsx)(n.p,{children:"Clean up all Docker containers and network:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"docker rm -f wp wpdb && docker network rm wpnet\n"})}),"\n",(0,i.jsx)(n.h3,{id:"alternative-database-setup",children:"Alternative Database Setup"}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.strong,{children:"WP-Node CLI"})," to install a WordPress database ",(0,i.jsx)(n.strong,{children:"without installing WordPress"}),".\nFor detailed instructions, see ",(0,i.jsx)(n.a,{href:"/wp-node/docs/cli/install-cli",children:"Install CLI"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"initialize-wp-node-project",children:"Initialize WP-Node Project"}),"\n",(0,i.jsx)(n.p,{children:"WP-Node requires an initialized configuration before use. You can scaffold a new project using the CLI."}),"\n",(0,i.jsx)(n.p,{children:"To get started, you first need to create a test folder. Then, run the command to initialize the project. Here are the commands you can take as an example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"mkdir /tmp/test-wp-node && cd /tmp/test-wp-node\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npx @rnaga/wp-node-cli -- init\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then enter prompts as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"\u2714 Enter your database hostname: \xb7 localhost\n\u2714 Enter your database port: \xb7 33306\n\u2714 Enter your database username: \xb7 wp\n\u2714 Enter your database password: \xb7 **\n\u2714 Enter your database name: \xb7 wordpress\n\u2714 Is it a multi-site? \xb7 No\n\u2714 Enter your static assets path: \xb7 public\n"})}),"\n",(0,i.jsx)(n.h3,{id:"project-structure",children:"Project Structure"}),"\n",(0,i.jsx)(n.p,{children:"After initialization, your project will look like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"./\n\u251c\u2500\u2500 _wp\n\u2502\xa0\xa0 \u251c\u2500\u2500 config\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 index.d.ts\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 wp.json\n\u2502\xa0\xa0 \u2514\u2500\u2500 settings.ts\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 index.ts\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 tsconfig.json\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key files"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_wp/config/wp.json"}),": Holds configuration for WP-Node such as public path and multisite info. This file is imported by settings.ts."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_wp/settings.ts"}),": Initializes the WP-Node Context, including config, database access and hooks."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index.ts"}),": The main entry point for your WP-Node app. A basic sample is provided."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".env"}),": Stores sensitive environment variables, including your database credentials and other configuration values required at runtime."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"run-the-app",children:"Run the App"}),"\n",(0,i.jsx)(n.p,{children:"Once the config is initialized, run the app using:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"mvn use 22\nnpx ts-node ./index.ts\n"})}),"\n",(0,i.jsx)(n.p,{children:"If everything is working correctly, you\u2019ll see SQL output like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"select * from `wp_posts` as `posts_5` where `posts_5`.`ID` = 1\n[\n  {\n    ID: 1,\n    post_author: 1,\n    post_title: 'Hello world!',\n    ...\n  }\n]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"use-cli-alternative",children:"Use Cli (Alternative)"}),"\n",(0,i.jsx)(n.p,{children:"WP-Node CLI provides a convenient way to interact with WordPress data without writing any code."}),"\n",(0,i.jsx)(n.p,{children:"To query a post (e.g. ID = 1), run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npx @rnaga/wp-node-cli -- post get 1 -Z table -F ID,post_title,post_type\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 (index)    \u2502 Values         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 ID         \u2502 1              \u2502\n\u2502 post_title \u2502 'Hello world!' \u2502\n\u2502 post_type  \u2502 'post'         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkwp_node=self.webpackChunkwp_node||[]).push([[704],{6630:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"reference/meta","title":"Meta","description":"Meta class handles loading and accessing metadata from WordPress meta tables (e.g., postmeta, usermeta, etc).","source":"@site/docs/reference/meta.md","sourceDirName":"reference","slug":"/reference/meta","permalink":"/wp-node/docs/reference/meta","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"PostUtil","permalink":"/wp-node/docs/reference/post-util"},"next":{"title":"MetaUtil","permalink":"/wp-node/docs/reference/meta-util"}}');var r=n(4848),a=n(8453);const i={},l="Meta",d={},c=[{value:"Description",id:"description",level:2},{value:"Usage",id:"usage",level:2},{value:"Methods",id:"methods",level:2},{value:"set",id:"set",level:4},{value:"setProps",id:"setprops",level:4},{value:"get",id:"get",level:4},{value:"props",id:"props",level:4},{value:"Internal Query Methods",id:"internal-query-methods",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"meta",children:"Meta"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://github.com/rnaga/wp-node/blob/main/packages/core/src/core/me%60%60%60ts",children:"Meta"})," class handles loading and accessing metadata from WordPress meta tables (e.g., postmeta, usermeta, etc)."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Supports all core meta tables via ",(0,r.jsx)(s.code,{children:"MetaTable"})," type: post, user, term, comment, blog, and site."]}),"\n",(0,r.jsx)(s.li,{children:"Loads metadata only when accessed (lazy-loaded)."}),"\n",(0,r.jsxs)(s.li,{children:["Uses ",(0,r.jsx)(s.code,{children:"formatting.primitive()"})," to parse values."]}),"\n",(0,r.jsxs)(s.li,{children:["Compatible with ",(0,r.jsx)(s.code,{children:"QueryUtil"})," for fetching and filtering."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:'const context = await Application.getContext();\nconst meta = context.components.get(Meta, ["post", 1]);\nconst props = await meta.props();\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h4,{id:"set",children:"set"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"set(table: types.MetaTable, id: number): this\n"})}),"\n",(0,r.jsx)(s.p,{children:"Reassigns the internal table and ID this Meta instance refers to."}),"\n",(0,r.jsx)(s.h4,{id:"setprops",children:"setProps"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"setProps(props: Record<string, any>): void\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Directly sets the internal ",(0,r.jsx)(s.code,{children:"_props"})," cache."]}),"\n",(0,r.jsx)(s.h4,{id:"get",children:"get"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"get<T = any>(key: string): Promise<T | undefined>\n"})}),"\n",(0,r.jsx)(s.p,{children:"Returns a single metadata value. If props have not been loaded, loads all metadata first."}),"\n",(0,r.jsx)(s.h4,{id:"props",children:"props"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"props(): Promise<Record<string, any>>\n"})}),"\n",(0,r.jsx)(s.p,{children:"Returns all meta properties for the current entity. Meta values are parsed and cached."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"internal-query-methods",children:"Internal Query Methods"}),"\n",(0,r.jsxs)(s.p,{children:["These methods query specific meta tables based on the ",(0,r.jsx)(s.code,{children:"table"})," and ",(0,r.jsx)(s.code,{children:"id"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"post()"}),": queries ",(0,r.jsx)(s.code,{children:"wp_postmeta"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"comment()"}),": queries ",(0,r.jsx)(s.code,{children:"wp_commentmeta"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"user()"}),": queries ",(0,r.jsx)(s.code,{children:"wp_usermeta"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"term()"}),": queries ",(0,r.jsx)(s.code,{children:"wp_termmeta"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"blog()"}),": queries ",(0,r.jsx)(s.code,{children:"wp_blogmeta"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"site()"}),": queries ",(0,r.jsx)(s.code,{children:"wp_sitemeta"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["These are used internally by ",(0,r.jsx)(s.code,{children:"props()"})," and should not be called directly."]}),"\n",(0,r.jsx)(s.hr,{})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>l});var t=n(6540);const r={},a=t.createContext(r);function i(e){const s=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);
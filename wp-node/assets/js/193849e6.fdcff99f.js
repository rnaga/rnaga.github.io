"use strict";(self.webpackChunkwp_node=self.webpackChunkwp_node||[]).push([[532],{5902:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"cli/repl-cli","title":"REPL CLI","description":"The WP-Node CLI provides a REPL (Read-Eval-Print Loop) interface that extends the standard Node.js REPL with WP-Node specific functionality.","source":"@site/docs/cli/repl-cli.md","sourceDirName":"cli","slug":"/cli/repl-cli","permalink":"/wp-node/docs/cli/repl-cli","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Install CLI","permalink":"/wp-node/docs/cli/install-cli"},"next":{"title":"Developing Custom CLI","permalink":"/wp-node/docs/cli/custom-cli"}}');var i=t(4848),r=t(8453);const a={},o="REPL CLI",d={},l=[{value:"Starting the REPL",id:"starting-the-repl",level:2},{value:"Example Usage",id:"example-usage",level:2},{value:"Get a Post",id:"get-a-post",level:3},{value:"Assign User and check Capabilities",id:"assign-user-and-check-capabilities",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"repl-cli",children:"REPL CLI"})}),"\n",(0,i.jsxs)(n.p,{children:["The WP-Node CLI provides a REPL (Read-Eval-Print Loop) interface that extends the standard ",(0,i.jsx)(n.a,{href:"https://nodejs.org/en/learn/command-line/how-to-use-the-nodejs-repl",children:"Node.js REPL"})," with WP-Node specific functionality."]}),"\n",(0,i.jsxs)(n.p,{children:["When initializing Node.js REPL, WP-Node adds a ",(0,i.jsx)(n.code,{children:"wp"})," object, which provides access to WP-Node Context. This is particularly useful for debugging and exploring WordPress database records interactively."]}),"\n",(0,i.jsx)(n.h2,{id:"starting-the-repl",children:"Starting the REPL"}),"\n",(0,i.jsx)(n.p,{children:"Start the REPL CLI with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npx @rnaga/wp-node-cli -- repl\n"})}),"\n",(0,i.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.h3,{id:"get-a-post",children:"Get a Post"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve and examine a WordPress post (e.g., post ID = 1):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"wp-node> const post = await wp.utils.post.get(1);\nundefined\nwp-node> post.props.post_title\n'Hello world!'\nwp-node>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"assign-user-and-check-capabilities",children:"Assign User and check Capabilities"}),"\n",(0,i.jsx)(n.p,{children:"Assume a user role (Administrator) and check capabilities:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"wp-node> await wp.current.assumeUser(1);\nundefined\nwp-node> const user = wp.current.user\nundefined\nwp-node> user.props.user_login\n'wptest'\nwp-node> const role = await user.role();\nundefined\nwp-node> await role.can(\"edit_posts\");\ntrue\nwp-node>\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);